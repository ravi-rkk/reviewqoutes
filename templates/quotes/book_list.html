{% extends 'base.html' %}

{% block title %}Books - Poet's Canvas{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1><i class="bi bi-book-half"></i> All Books</h1>
    <a href="{% url 'book_create' %}" class="btn btn-success btn-custom">
        <i class="bi bi-plus-circle"></i> Add New Book
    </a>
</div>

{% if books %}
<div class="row g-4">
    {% for book in books %}
    <div class="col-md-6 col-lg-4">
        <div class="book-card h-100">
            {% if book.cover_image %}
            <div class="text-center mb-3">
                <img src="{{ book.cover_image.url }}" alt="{{ book.title }}" class="book-cover img-fluid" style="max-width: 200px;">
            </div>
            {% else %}
            <div class="text-center mb-3">
                <div style="width: 100%; max-width: 200px; height: 300px; background: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%); display: flex; align-items: center; justify-content: center; border-radius: 10px; margin: 0 auto;">
                    <i class="bi bi-book" style="font-size: 4rem; color: #999;"></i>
                </div>
            </div>
            {% endif %}
            <h3 class="mb-2">{{ book.title }}</h3>
            <p class="text-primary fw-bold mb-3"><i class="bi bi-person"></i> by {{ book.author }}</p>
            <div class="btn-action-group">
                <a href="{% url 'book_detail' book.id %}" class="btn btn-view btn-custom">
                    <i class="bi bi-eye"></i> View Details
                </a>
                <a href="{% url 'book_edit' book.id %}" class="btn btn-edit btn-custom">
                    <i class="bi bi-pencil"></i> Edit
                </a>
                <form method="post" action="{% url 'book_delete' book.id %}" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this book?');">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-delete btn-custom">
                        <i class="bi bi-trash"></i> Delete
                    </button>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="text-center py-5">
    <i class="bi bi-inbox" style="font-size: 4rem; color: #ccc; display: block; margin-bottom: 20px;"></i>
    <p style="color: #666; font-size: 1.2rem;">
        No books yet. <a href="{% url 'book_create' %}" class="text-decoration-none">Add the first one!</a>
    </p>
</div>
{% endif %}
{% endblock %}

