{% extends 'base.html' %}

{% block title %}{{ quote.author }} - Poet's Canvas{% endblock %}

{% block content %}
<div class="mb-3">
    <a href="{% url 'quote_list' %}" class="btn btn-secondary btn-custom">
        <i class="bi bi-arrow-left"></i> Back to Quotes
    </a>
</div>

<div class="quote-card" style="padding: 40px;">
    <div class="quote-text" style="font-size: 1.75rem; margin-bottom: 25px;">"{{ quote.text }}"</div>
    <div class="quote-author" style="font-size: 1.4rem;">â€” {{ quote.author }}</div>
    {% if quote.era %}
    <span class="quote-era" style="margin-top: 15px; display: inline-block;">
        <i class="bi bi-clock-history"></i> {{ quote.era }}
    </span>
    {% endif %}
    
    {% if quote.author_bio_summary %}
    <div class="mt-4 p-4" style="background: linear-gradient(135deg, #f9f9f9 0%, #ffffff 100%); border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
        <h3 class="mb-3"><i class="bi bi-info-circle"></i> About {{ quote.author }}</h3>
        <p style="line-height: 1.9; color: #555;">{{ quote.author_bio_summary }}</p>
    </div>
    {% else %}
    <div class="mt-4">
        <form method="post" action="{% url 'quote_fetch_bio' quote.id %}" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="btn btn-primary btn-custom">
                <i class="bi bi-wikipedia"></i> Fetch Author Bio from Wikipedia
            </button>
        </form>
    </div>
    {% endif %}
    
    <div class="mt-4 pt-3 border-top">
        <small class="text-muted">
            <i class="bi bi-calendar"></i> Created: {{ quote.date_created|date:"F d, Y" }}
        </small>
    </div>
    
    <div class="btn-action-group mt-4">
        <a href="{% url 'quote_edit' quote.id %}" class="btn btn-edit btn-custom">
            <i class="bi bi-pencil"></i> Edit Quote
        </a>
        <form method="post" action="{% url 'quote_delete' quote.id %}" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this quote?');">
            {% csrf_token %}
            <button type="submit" class="btn btn-delete btn-custom">
                <i class="bi bi-trash"></i> Delete Quote
            </button>
        </form>
    </div>
</div>
{% endblock %}

